@inject NavigationManager NavigationManager

<div class="navbar flex flex-col bg-neutral shadow w-full p-0">
    <div class="flex flex-row justify-between items-center mb-8 mt-8">
        <div class="navbar-center">
            <a href="/" class="lg:text-2xl md:text-3xl text-slate-200 no-underline hover:text-white p-4 hover:bg-base-200 rounded-lg font-bold">Construct Planner</a>
        </div>
    </div>

    <div role="tablist" class="tabs tabs-bordered w-full flex justify-center gap-x-8 px-8">
        <a href="/Obras" role="tab" class="tab h-10 lg:text-lg md:text-xl text-slate-200 no-underline font-semibold flex-1 text-center @(_currentRoute == "Obras" ? "bg-slate-900 rounded-t-md tab-active" : "bg-slate-700 hover:bg-slate-800 rounded-t-md")">Obras</a>
        <a href="/Equipes" role="tab" class="tab h-10 lg:text-lg md:text-xl text-slate-200 no-underline font-semibold flex-1 text-center @(_currentRoute == "Equipes" ? "bg-slate-900 rounded-t-md tab-active" : "bg-slate-700 hover:bg-slate-800 rounded-t-md")">Equipes</a>
        <a href="/Agendamentos" role="tab" class="tab h-10 lg:text-lg md:text-xl text-slate-200 no-underline font-semibold flex-1 text-center @(_currentRoute == "Agendamentos" ? "bg-slate-900 rounded-t-md tab-active" : "bg-slate-700 hover:bg-slate-800 rounded-t-md")">Agendamentos</a>
    </div>
</div>

@code
{
    private bool Aberto { get; set; }

    void Fechar()
    {
        Aberto = false;
    }
    
    private string? _currentRoute;

    protected override async Task OnInitializedAsync()
    {
        await ObterRota();
    }

    private async Task ObterRota()
    {
        await Task.Delay(1);
        
        _currentRoute = NavigationManager.ToBaseRelativePath(NavigationManager.Uri);
    }
}